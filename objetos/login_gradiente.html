<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Faixa Login</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:transparent !important;
  overflow:hidden;
}

/* container */
#wrap{
  position:absolute;
  inset:0;
}

/* ===== BASE AZUL (NUNCA MUDA) ===== */
#base{
  position:absolute;
  inset:0;

  --alpha: .8;

  background:linear-gradient(90deg,
    rgba(0,45,115,var(--alpha)) 0%,
    rgba(0,45,115,var(--alpha)) 75%,
    #ffffff 95%,
    #ffffff 100%
  );
}

/* ===== OVERLAY (ERRO / OK) ===== */
#overlay{
  position:absolute;
  inset:0;
  pointer-events:none;

  opacity:0; /* começa invisível */

  background:linear-gradient(90deg,
    rgba(var(--stateRGB),1) 0%,
    rgba(var(--stateRGB),1) 75%,
    #ffffff 95%,
    #ffffff 100%
  );
}

/* animação: surge e DERRETE */
@keyframes derrete {
  0%   { opacity:0 }
  12%  { opacity:1 }
  100% { opacity:0 }
}

.flash{
  animation: derrete 4s ease-out 1 forwards;
}
</style>
</head>

<body>
<div id="wrap">
  <div id="base"></div>
  <div id="overlay"></div>
</div>

<script>
const p = new URLSearchParams(location.search);

/* parâmetros */
const state = (p.get("state") || "normal").toLowerCase();
let alpha = Number(p.get("alpha") ?? 0.8);
alpha = Math.max(0, Math.min(1, alpha));

/* aplica alpha no azul */
document.getElementById("base")
  .style.setProperty("--alpha", alpha);

/* define cor do overlay */
let rgb = null;
if(state === "erro") rgb = "212,0,0";
if(state === "ok")   rgb = "0,164,16";

if(rgb){
  const o = document.getElementById("overlay");
  o.style.setProperty("--stateRGB", rgb);

  /* rearmar animação sempre */
  o.classList.remove("flash");
  void o.offsetWidth;
  o.classList.add("flash");
}
</script>
</body>
</html>
